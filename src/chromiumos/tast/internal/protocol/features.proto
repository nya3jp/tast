// Copyright 2021 The Chromium OS Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

syntax = "proto3";

package tast.core;

import "chromiumos/config/api/topology.proto";
import "device/config.proto";

option go_package = "chromiumos/tast/internal/protocol";

// Features represents a set of features available for tests.
message Features {
  SoftwareFeatures software = 1;
  HardwareFeatures hardware = 2;
  map<string, string> vars = 3;
}

// SoftwareFeatures represents a set of software features available for the
// image being tested.
// A nil message indicates that all tests should always run, thus it should be
// distinguished from an empty message.
message SoftwareFeatures {
  repeated string available = 1;
  repeated string unavailable = 2;
}

// HardwareFeatures represents a set of hardware features available for the
// device model being tested.
// A nil message indicates that all tests should always run, thus it should be
// distinguished from an empty message.
message HardwareFeatures {
  chromiumos.config.api.HardwareFeatures hardware_features = 1;
  device.Config deprecated_device_config = 2;
}
